<!--
//*********************************************************
//
// Copyright (c) Microsoft. All rights reserved.
// This code is licensed under the MIT License (MIT).
// THIS CODE IS PROVIDED *AS IS* WITHOUT WARRANTY OF
// ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING ANY
// IMPLIED WARRANTIES OF FITNESS FOR A PARTICULAR
// PURPOSE, MERCHANTABILITY, OR NON-INFRINGEMENT.
//
//*********************************************************
-->
<Page
      x:Class="PhenoPad.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PhenoPad"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:phenotypeservice="using:PhenoPad.PhenotypeService"
    xmlns:customcontorl="using:PhenoPad.CustomContorl"
    xmlns:photovideoservice="using:PhenoPad.PhotoVideoService"
     xmlns:styles="using:PhenoPad.Styles"
    mc:Ignorable="d"
    Loaded="Page_Loaded">


    <Grid x:Name="RootGrid" Margin="0 0 0 0">
        <Grid.RowDefinitions>
            <RowDefinition Height="0"/>
            <RowDefinition Height="45"/>
            <RowDefinition Height="*"/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState x:Name="LandscapeState">
                    <VisualState.Setters>
                        <Setter Target="RootGrid.ColumnDefinitions[2].MaxWidth" Value="300"/>
                        <Setter Target="RootGrid.ColumnDefinitions[1].Width" Value="5"/>
                        <Setter Target="RootGrid.RowDefinitions[3].Height" Value="0"/>
                        <Setter Target="RootGrid.RowDefinitions[4].MaxHeight" Value="0"/>
                        <Setter Target="QuickViewGrid.(Grid.Row)" Value="2"/>
                        <Setter Target="QuickViewGrid.(Grid.Column)" Value="2"/>

                        <Setter Target="QuickViewGrid.ColumnDefinitions[0].Width" Value="*"/>
                        <Setter Target="QuickViewGrid.ColumnDefinitions[1].Width" Value="0"/>
                        <Setter Target="QuickViewGrid.ColumnDefinitions[2].Width" Value="0"/>
                        <Setter Target="QuickViewGrid.RowDefinitions[0].Height" Value="*"/>
                        <Setter Target="QuickViewGrid.RowDefinitions[1].Height" Value="*"/>
                        <Setter Target="QuickViewGrid.RowDefinitions[2].Height" Value="*"/>
                        <Setter Target="QuickView1.(Grid.Row)" Value="0"/>
                        <Setter Target="QuickView2.(Grid.Row)" Value="1"/>
                        <Setter Target="QuickView3.(Grid.Row)" Value="2"/>
                        <Setter Target="QuickView1.(Grid.Column)" Value="0"/>
                        <Setter Target="QuickView2.(Grid.Column)" Value="0"/>
                        <Setter Target="QuickView3.(Grid.Column)" Value="0"/>
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="PortraitState">
                    <VisualState.Setters>
                        <Setter Target="RootGrid.ColumnDefinitions[2].MaxWidth" Value="0"/>
                        <Setter Target="RootGrid.ColumnDefinitions[1].Width" Value="0"/>
                        <Setter Target="RootGrid.RowDefinitions[3].Height" Value="5"/>
                        <Setter Target="RootGrid.RowDefinitions[4].MaxHeight" Value="300"/>
                        <Setter Target="QuickViewGrid.(Grid.Row)" Value="4"/>
                        <Setter Target="QuickViewGrid.(Grid.Column)" Value="0"/>
                        <Setter Target="QuickViewGrid.RowDefinitions[0].Height" Value="*"/>
                        <Setter Target="QuickViewGrid.RowDefinitions[1].Height" Value="0"/>
                        <Setter Target="QuickViewGrid.RowDefinitions[2].Height" Value="0"/>
                        <Setter Target="QuickViewGrid.ColumnDefinitions[0].Width" Value="*"/>
                        <Setter Target="QuickViewGrid.ColumnDefinitions[1].Width" Value="*"/>
                        <Setter Target="QuickViewGrid.ColumnDefinitions[2].Width" Value="*"/>
                        <Setter Target="QuickView1.(Grid.Row)" Value="0"/>
                        <Setter Target="QuickView2.(Grid.Row)" Value="0"/>
                        <Setter Target="QuickView3.(Grid.Row)" Value="0"/>
                        <Setter Target="QuickView1.(Grid.Column)" Value="0"/>
                        <Setter Target="QuickView2.(Grid.Column)" Value="1"/>
                        <Setter Target="QuickView3.(Grid.Column)" Value="2"/>
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
        <Grid Grid.Row="0" Grid.ColumnSpan="2" Name="fakeTileBar"></Grid>

        <Grid Grid.Row="1" Grid.Column="1" Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}"></Grid>
        <Grid Grid.Row="1" Grid.Column="2" Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}"></Grid>
        <Grid Grid.Row="2" Grid.Column="1" Background="#EEEEEE"></Grid>
        <Grid Grid.Row="3" Grid.Column="0" Background="#EEEEEE"></Grid>
        
        <RelativePanel Name="TopMenuRelativePanel" Grid.Row="1" Grid.Column="0" Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}">
            <TextBlock Text="PhenoPad" Style="{StaticResource BaseTextBlockStyle}" Foreground="#E8ECED" FontSize="21" RelativePanel.AlignRightWithPanel="True" RelativePanel.AlignVerticalCenterWithPanel="True"></TextBlock>
            <CommandBar RelativePanel.AlignTopWithPanel="True"
                        RelativePanel.AlignLeftWithPanel="True"
                        Name="topCmdBar" Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}">

                <AppBarButton Icon="Page2" Label="Notes"  Click="NotesButton_Click">
                    <AppBarButton.Flyout>
                        <MenuFlyout>
                            
                            <MenuFlyoutItem Text="Create new note" Tag="rating"/>
                            <MenuFlyoutItem Text="Save note" Tag="Save note to disk." Click="SaveNote_Click"/>
                            <MenuFlyoutItem Text="Save image" Tag="Save note to image." Click="SaveNoteToImage_Click"/>
                            <MenuFlyoutItem Text="Open saved note" Tag="Open a saved note." Click="LoadNote_Click"/>
                            <MenuFlyoutItem Text="Change a server" Tag="Open a saved note." Click="ChangeServer_Click"/>
                            
                        </MenuFlyout>
                    </AppBarButton.Flyout>
                </AppBarButton>
                <AppBarToggleButton Icon="PreviewLink" Label="Overview" Name="sdf" Click="OverviewButton_Click"/>
                <AppBarToggleButton Icon="Message" Label="Speech" Name="ddd" Click="SpeechButton_Click"/>
                <AppBarSeparator/>
                <AppBarButton Name="imageButton" Icon="BrowsePhotos" Label="Speech Recognition" Click="LoadImage_Click">
                    <ToolTipService.ToolTip>
                        <TextBlock Text="Load a image."/>
                    </ToolTipService.ToolTip>
                </AppBarButton>

                <AppBarButton  Icon="WebCam" Label="Photo/Video"  Click="TakePhoto_Click" >
                    <!--
                    <AppBarButton.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem Text="Select a photo" Click="MenuFlyoutItem_Click" Tag="rating" Icon="BrowsePhotos"/>
                            <MenuFlyoutItem Text="Take a photo" Click="TakePhoto_Click" Tag="Take a photo" Icon="Camera"/>
                            <MenuFlyoutItem Text="Record a video" Click="MenuFlyoutItem_Click" Tag="distance" Icon="Video"/>
                        </MenuFlyout>
                    </AppBarButton.Flyout>
                    -->
                    <ToolTipService.ToolTip>
                        <TextBlock Text="Enable video recording"/>
                    </ToolTipService.ToolTip>
                </AppBarButton>
                <AppBarToggleButton Name="testButton" Icon="Microphone" Label="Speech Recognition" Click="TestWS_Click">
                    <ToolTipService.ToolTip>
                        <TextBlock Text="Enable audio recording"/>
                    </ToolTipService.ToolTip>
                </AppBarToggleButton>
                
               
            </CommandBar>
            <InkToolbar Margin="40 0 0 0" Name="MainPageInkBar" ActiveToolChanged="CurrentToolChanged" Orientation="Horizontal" ButtonFlyoutPlacement="Bottom" RelativePanel.AlignTopWithPanel="True"
                        RelativePanel.RightOf="topCmdBar" Background="LightBlue" InitialControls="None">
                <InkToolbar.Resources>
                    <!--
                    <BrushCollection x:Key="CalligraphicPenPalette">
                        <SolidColorBrush>Black</SolidColorBrush>
                        <SolidColorBrush>Brown</SolidColorBrush>
                        <SolidColorBrush>Red</SolidColorBrush>
                        <SolidColorBrush Color="#FFFFCE00"/>
                        <SolidColorBrush Color="#FF26E600"/>
                        <SolidColorBrush Color="#FF004DE6"/>
                    </BrushCollection>
                    <local:CalligraphicPen x:Key="CalligraphicPen"/>
                    <Style TargetType="InkToolbarCustomPenButton">
                        <Setter Property="SelectedStrokeWidth" Value="1"/>
                        <Setter Property="Background" Value="LightBlue"/>
                    </Style>
                    -->
                </InkToolbar.Resources>
                <InkToolbarBallpointPenButton SelectedStrokeWidth="2"  Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}"></InkToolbarBallpointPenButton>
                <InkToolbarEraserButton Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}"></InkToolbarEraserButton>


                <!--
                <InkToolbarCustomPenButton x:Name="calligraphyPen"  Background="LightBlue"
                                                   CustomPen="{StaticResource CalligraphicPen}"
                                                   Palette="{StaticResource CalligraphicPenPalette}"
                                                   SelectedBrushIndex="2"
                                                   ToolTipService.ToolTip="Calligraphy pen">
                    <Border>
                        <Grid>
                            <TextBlock AutomationProperties.AccessibilityView="Raw" FontFamily="Segoe MDL2 Assets" Text="&#xEDFB;" Canvas.ZIndex="1"/>
                            <TextBlock AutomationProperties.AccessibilityView="Raw" FontFamily="Segoe MDL2 Assets" Text="&#xF0C7;" 
                                                   Foreground="{x:Bind calligraphyPen.SelectedBrush, Mode=OneWay}" Canvas.ZIndex="0"/>
                        </Grid>
                    </Border>
                    <InkToolbarCustomPenButton.ConfigurationContent>
                        <InkToolbarPenConfigurationControl/>
                    </InkToolbarCustomPenButton.ConfigurationContent>
                </InkToolbarCustomPenButton>-->
                <InkToolbarCustomToolButton x:Name="toolButtonLasso" Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}" Click="ToolButton_Lasso" ToolTipService.ToolTip="Selection tool">
                    <SymbolIcon Symbol="{x:Bind LassoSelect}"/>
                </InkToolbarCustomToolButton>
                <InkToolbarCustomToggleButton x:Name="toggleButton" Click="Toggle_Custom" Background="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}" ToolTipService.ToolTip="Touch Writing">
                    <SymbolIcon Symbol="{x:Bind TouchWriting}"/>
                </InkToolbarCustomToggleButton>
            </InkToolbar>

        </RelativePanel>
        <ContentControl x:Name="PageHost" Grid.Row="2" Grid.Column="0" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
            <ContentControl.ContentTransitions>
                <TransitionCollection>
                    <ContentThemeTransition x:Name="PageHostContentTrans"/>
                </TransitionCollection>
            </ContentControl.ContentTransitions>
        </ContentControl>
        <!-- Added Phenotypes-->
        <Grid Name="QuickViewGrid" Grid.Row="2" Grid.Column="1" BorderThickness="0 0 0 0" BorderBrush="{ThemeResource AppBarBackground}">
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Grid Name="QuickView1" BorderBrush="#EEEEEE" BorderThickness="2,2,2,2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="25"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Margin="10 0 0 0" Foreground="{x:Bind styles:MyColors.PHENOTYPE_BLUE}">Are you looking for:</TextBlock>
                    <ListView x:Name="candidatePhenoListView" Grid.Row="1" ItemsSource="{x:Bind PhenoMana.phenotypesCandidates, Mode=OneWay}">

                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="phenotypeservice:Phenotype">
                                <customcontorl:PhenotypeControl phenotypeName="{x:Bind name}" phenotypeId="{x:Bind hpId}" phenotypeState="{x:Bind state}" sourceType="Notes"></customcontorl:PhenotypeControl>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                        <ListView.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                <Setter Property="VerticalContentAlignment" Value="Center" />
                                <Setter Property="Margin" Value="0,0,0,0" />
                                <Setter Property="Padding" Value="5,0,0,0" />
                                <Setter Property="MinHeight" Value="20" />
                            </Style>
                        </ListView.ItemContainerStyle>

                    </ListView>
                </Grid>

            <Grid Name="QuickView2" BorderBrush="#EEEEEE" BorderThickness="2,2,2,2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0"  Margin="10 0 0 0" Foreground="{x:Bind styles:MyColors.PHENOTYPE_BLUE}">Other phenotypes to look at:</TextBlock>
                <ListView x:Name="suggestedPhenoListView" Grid.Row="1" ItemsSource="{x:Bind PhenoMana.suggestedPhenotypes, Mode=OneWay}">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="phenotypeservice:Phenotype">
                            <customcontorl:PhenotypeControl phenotypeName="{x:Bind name}" phenotypeId="{x:Bind hpId}" phenotypeState="{x:Bind state}" sourceType="Suggested"></customcontorl:PhenotypeControl>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="VerticalContentAlignment" Value="Center" />
                            <Setter Property="Margin" Value="0,0,0,0" />
                            <Setter Property="Padding" Value="5,0,0,0" />
                            <Setter Property="MinHeight" Value="20" />
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>
            </Grid>

            <Grid Name="QuickView3" BorderBrush="#EEEEEE" BorderThickness="2,2,2,2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0"  Margin="10 0 0 0" Foreground="{x:Bind styles:MyColors.PHENOTYPE_BLUE}">This patient might have:</TextBlock>
                <ListView x:Name="diseaseListView" Grid.Row="1" ItemsSource="{x:Bind PhenoMana.predictedDiseases}">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="phenotypeservice:Disease">
                            <TextBlock Text="{x:Bind name}" FontSize="10"></TextBlock>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="VerticalContentAlignment" Value="Center" />
                            <Setter Property="Margin" Value="0,0,0,0" />
                            <Setter Property="Padding" Value="5,0,0,0" />
                            <Setter Property="MinHeight" Value="20" />
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>
            </Grid>
        </Grid>
        
        <RelativePanel Name="CmdRelativePanel" Grid.Row="2" Grid.ColumnSpan="2">
            <RelativePanel.Resources>
                <Storyboard x:Name="AddedPhenoGridEnterSB">
                    <FadeInThemeAnimation Storyboard.TargetName="addedPhenoGrid" />
                </Storyboard>
            </RelativePanel.Resources>

            <Border x:Name="StatusBorder" Margin="0,0,0,0" RelativePanel.AlignTopWithPanel="True" RelativePanel.AlignHorizontalCenterWithPanel="True" MinWidth="500" Height="40">

                <TextBlock x:Name="StatusBlock" FontWeight="Bold" Foreground="White" TextAlignment="Center"
                                   MaxWidth="{Binding ElementName=Splitter, Path=ActualWidth}" Margin="10,10,10,10" TextWrapping="Wrap"  />
            </Border>
            
             <TextBlock Visibility="Collapsed" Name="pageIndexTextBlock" RelativePanel.Above="cmdBar" RelativePanel.AlignRightWithPanel="True" Text=""/>
            <StackPanel Name="AnnoPhenoStackPanel" RelativePanel.Above="cmdBar" RelativePanel.AlignLeftWithPanel="True" Orientation="Horizontal"/>
            <Grid Background="WhiteSmoke" Name="CameraCanvas" Height="300" Width="530" RelativePanel.Above="pageIndexTextBlock" RelativePanel.AlignRightWithPanel="True" Visibility="Collapsed">
                <photovideoservice:PhotoVideoCaptureControl x:Name="captureControl"></photovideoservice:PhotoVideoCaptureControl>
             
                <StackPanel Height="30" VerticalAlignment="Top" >
                    <Button  Height="30" Width="40" Click="CameraClose_Click">
                        <SymbolIcon Symbol="Clear" ></SymbolIcon>
                    </Button>
                </StackPanel>
                <StackPanel Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Orientation="Horizontal">

                    <Button Height="30" Width="40" Name="VideoButton" Click="VideoButton_Click" IsEnabled="False">
                        <Grid>
                            <Ellipse x:Name="StartRecordingIcon" Fill="Red" Width="10" Height="10"/>
                            <Rectangle x:Name="StopRecordingIcon" Fill="White" Width="20" Height="20" Visibility="Collapsed"/>
                        </Grid>
                    </Button>
                    <Button Height="30" Width="40" Name="PhotoButton" Click="PhotoButton_Click" Foreground="White">
                        <SymbolIcon Symbol="Camera" />
                    </Button>
                </StackPanel>
            </Grid>

            <StackPanel Name="pageIndexPanel" Orientation="Horizontal" RelativePanel.AlignBottomWithPanel="True" RelativePanel.AlignHorizontalCenterWithPanel="True">
                <Button Height="30" Width="30" Padding="0 0 0 0" Background="WhiteSmoke"  Click="AddPageButton_Click">
                    <SymbolIcon Symbol="Add" Foreground="{x:Bind styles:MyColors.TITLE_BAR_COLOR_BRUSH}" />
                </Button>
            </StackPanel>
            <CommandBar RelativePanel.AlignBottomWithPanel="True"
                        RelativePanel.AlignRightWithPanel="True"
                        Visibility="Collapsed"
                        Name="cmdBar">
                <!--
                <AppBarToggleButton Name="testButton" Icon="Microphone" Label="Speech Recognition" Click="TestWS_Click">
                    <ToolTipService.ToolTip>
                        <TextBlock Text="Enable audio recording"/>
                    </ToolTipService.ToolTip>
                </AppBarToggleButton>

                
                    This is for Microsoft speech recognition engine
                    <AppBarToggleButton Name="micButton" Icon="Microphone" Label="Speech recognition" Click="MicButton_Click" />
                -->

                
                <AppBarButton  Icon="WebCam" Label="Photo/Video"  Click="TakePhoto_Click" >
                    <!--
                    <AppBarButton.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem Text="Select a photo" Click="MenuFlyoutItem_Click" Tag="rating" Icon="BrowsePhotos"/>
                            <MenuFlyoutItem Text="Take a photo" Click="TakePhoto_Click" Tag="Take a photo" Icon="Camera"/>
                            <MenuFlyoutItem Text="Record a video" Click="MenuFlyoutItem_Click" Tag="distance" Icon="Video"/>
                        </MenuFlyout>
                    </AppBarButton.Flyout>
                    -->
                    <ToolTipService.ToolTip>
                        <TextBlock Text="Enable video recording"/>
                    </ToolTipService.ToolTip>
                </AppBarButton>
                
                <AppBarSeparator/>

                <AppBarButton Icon="Page2" Label="Notes" Click="NotesButton_Click">
                    <ToolTipService.ToolTip>
                        <TextBlock Text="Write notes"/>
                    </ToolTipService.ToolTip>
                </AppBarButton>

                <AppBarToggleButton Icon="PreviewLink" Label="Collected Phenotypes" Name="OverviewButton" Click="OverviewButton_Click">
                    <ToolTipService.ToolTip>
                        <TextBlock Text="View collected phenotypes"/>
                    </ToolTipService.ToolTip>
                </AppBarToggleButton>

                <AppBarToggleButton Icon="Message" Label="Conversation" Name="SpeechButton" Click="SpeechButton_Click">
                    <ToolTipService.ToolTip>
                        <TextBlock Text="View conversation"/>
                    </ToolTipService.ToolTip>
                </AppBarToggleButton>
                
                <AppBarSeparator/>
                <!--
                <AppBarButton Icon="Message" Label="Speech" Click="PageOverviewButton_Click"/>
                -->
                <AppBarButton Icon="Back" Label="Back" Click="PreviousPageButton_Click"/>
                <AppBarButton Icon="Forward" Label="Forward" Click="NextPageButton_Click"/>
                <AppBarButton Icon="Add" Label=""  Click="AddPageButton_Click"/>
                

                <CommandBar.SecondaryCommands>
                    <AppBarButton Icon="Save" Label="Save notes" Click="SaveNote_Click"/>
                    <AppBarButton Icon="OpenFile" Label="Open notes" Click="LoadNote_Click"/>
                </CommandBar.SecondaryCommands>

                <CommandBar.Content>
                    <TextBlock Name="cmdBarTextBlock" Margin="12,14"
                               Text="{x:Bind speechManager.speechInterpreter.latestSentence}"
                               Visibility="Visible"/>
                </CommandBar.Content>
            </CommandBar>

            
            
            <Grid Background="White"
                  RelativePanel.Above="cmdBar"
                  RelativePanel.AlignLeftWithPanel="True"
                  RelativePanel.AlignRightWithPanel="True"
                  Name="addedPhenoGrid"
                  Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
               
            </Grid>

            <Grid Background="White"
                  RelativePanel.Above="cmdBar"
                  RelativePanel.AlignLeftWithPanel="True"
                  RelativePanel.AlignRightWithPanel="True"
                  Name="searchPhenoGrid"
                  Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <StackPanel Orientation="Horizontal">
                    <TextBox></TextBox>
                    <Button Width="40" Height="40">
                        <SymbolIcon Symbol="Find"></SymbolIcon>
                    </Button>
                </StackPanel>
            </Grid> 
        </RelativePanel>
        <Popup x:Name="OverviewPopUp" HorizontalOffset="0" VerticalOffset="0">
            <local:OverviewPage x:Name="OverivePopUpPage"/>
        </Popup>
        <Popup x:Name="SpeechPopUp" HorizontalOffset="0" VerticalOffset="0">
            <local:SpeechPage x:Name="SpeechPopUpPage"/>
        </Popup>
    </Grid>
</Page>
